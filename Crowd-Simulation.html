<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Crowd Simulation</title>
  <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>
  
<div id="header-placeholder"></div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      fetch('header.html')
        .then(response => response.text())
        .then(html => {
          // 1) Inject the header markup
          document.getElementById('header-placeholder').innerHTML = html;

          // 2) Wire up the menu button
          const toggleButton = document.getElementById('menuToggle');
          const navMenu      = document.getElementById('navMenu');
          if (toggleButton && navMenu) {
            toggleButton.addEventListener('click', () => {
              toggleButton.classList.toggle('open');
              navMenu.classList.toggle('show');
            });
          }
        })
        .catch(err => console.error('Error loading header:', err));
    });
  </script>


  <section id="simulation-container">
    <!-- Left-side text content -->
    <div class="sim-text">
      <h2>Background</h2>
      <p>
        Microscopic crowd simulations are often used in urban design to estimate how many pedestrians can move through a given space, in a given time. However, the models that the simulations are based on often use 'attraction-repulsion' forces that may not fully represent pedestrian agency.
      </p>
      <p>
        Software such as <a href="https://www.vadere.org/" class="sim-link">Vadere</a> allows users to access open-source models of crowd simulation and tailor them to their specific situation. Higher-end systems like <a href="https://www.oasys-software.com/products/massmotion/" class="sim-link">MassMotion by Oasis</a> offer advanced features.
      </p>
        There must be a balance between realism, and computational efficiency. Adding more parameters to crowd simulation models can negatively impact computational efficiency. To see this in action, try increasing the population in the model and notice how the fps drops.
    </div>

    <!-- Right-side simulation canvas -->
    <div id="sim-wrapper">
      <canvas id="simCanvas"></canvas>
    </div>

    <div class="sim-instructions">
      Tap/click to move the scene above: <body class="highlight">rotate</body>,<body class="highlight">pan</span>, <body class="highlight">zoom</span>.
    </div>
  </section>

  <footer>
    <p>Â© 2025 Joe Ventress</p>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
  <script src="js/simulation.js"></script>

</body>
</html>